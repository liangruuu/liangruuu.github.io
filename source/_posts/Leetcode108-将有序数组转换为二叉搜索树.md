---
title: Leetcode108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘
tags:
  - åˆ†è€Œæ²»ä¹‹
  - æ ‘
categories:
  - ç®—æ³•
abbrlink: 4372fe16
date: 2020-08-25 19:11:20
---

**è½¬è½½è‡ªï¼š[Leetcodeé¢˜è§£ï¼ˆsweetieeï¼‰ï¼Œç•¥æœ‰å¢åˆ ](https://leetcode-cn.com/problems/convert-sorted-array-to-binary-search-tree/solution/jian-dan-di-gui-bi-xu-miao-dong-by-sweetiee/)**

<!-- more -->

### ä¸€ã€é¢˜ç›®åˆ†æ
**é¢˜æ„**ï¼šæ ¹æ®å‡åºæ•°ç»„ï¼Œæ¢å¤ä¸€æ£µé«˜åº¦å¹³è¡¡çš„BSTğŸŒ²ã€‚

**åˆ†æ**ï¼šBSTçš„ä¸­åºéå†æ˜¯å‡åºçš„ï¼Œå› æ­¤æœ¬é¢˜ç­‰åŒäºæ ¹æ®ä¸­åºéå†çš„åºåˆ—æ¢å¤äºŒå‰æœç´¢æ ‘ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä»¥å‡åºåºåˆ—ä¸­çš„ä»»ä¸€ä¸ªå…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œä»¥è¯¥å…ƒç´ å·¦è¾¹çš„å‡åºåºåˆ—æ„å»ºå·¦å­æ ‘ï¼Œä»¥è¯¥å…ƒç´ å³è¾¹çš„å‡åºåºåˆ—æ„å»ºå³å­æ ‘ï¼Œè¿™æ ·å¾—åˆ°çš„æ ‘å°±æ˜¯ä¸€æ£µäºŒå‰æœç´¢æ ‘å•¦ï½ åˆå› ä¸ºæœ¬é¢˜è¦æ±‚é«˜åº¦å¹³è¡¡ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é€‰æ‹©å‡åºåºåˆ—çš„ä¸­é—´å…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹å¥¥ï½

```java
class Solution {
    public TreeNode sortedArrayToBST(int[] nums) {
        return dfs(nums, 0, nums.length - 1);
    }

    private TreeNode dfs(int[] nums, int lo, int hi) {
        if (lo > hi) {
            return null;
        } 
        // ä»¥å‡åºæ•°ç»„çš„ä¸­é—´å…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹ rootã€‚
        int mid = lo + (hi - lo) / 2;
      	// æ²»ï¼šroot.leftå’Œroot.rightæœ¬èº«å°±æ˜¯ä¸€ç§æ²»ï¼ŒæŠŠåˆ†å’Œæ€»è”ç³»åœ¨ä¸€èµ·
        TreeNode root = new TreeNode(nums[mid]);
        // åˆ†
        root.left = dfs(nums, lo, mid - 1);
        root.right = dfs(nums, mid + 1, hi); 
        return root;
    }
}
```

### äºŒã€è®©æˆ‘ä»¬å°è¯•ç”¨é€’å½’æ¨¡æ¿æ¥è§£é¢˜

[åˆ†è€Œæ²»ä¹‹å’Œé€’å½’çš„åŒºåˆ«](./åˆ†è€Œæ²»ä¹‹å’Œé€’å½’çš„åŒºåˆ«.md)

1. çŠ¶æ€ï¼šæœ‰åºæ•°ç»„çš„ä¸‹æ ‡(å˜åŒ–é‡)ï¼Œç”¨`i`æ¥è¡¨ç¤ºã€‚`recursion(i)`è¡¨ç¤ºä»¥nums[i]ä¸ºæ ¹èŠ‚ç‚¹ï¼Œä»¥æœ‰åºæ•°ç»„å’Œå¹³è¡¡äºŒå‰æ ‘çš„å…³ç³»ï¼Œè¿™ä¸ªiå¤„äºæ•°ç»„çš„æ­£ä¸­é—´ã€‚æ€ä¹ˆè¡¨ç¤ºå‡ºæ­£ä¸­é—´è¿™ä¸ªæ€§è´¨å‘¢ï¼Ÿé‚£ä¹ˆ`i`å°±éœ€è¦ç”¨`(left + right) / 2`æ¥è¡¨ç¤ºäº†ï¼Œé‚£ä¹ˆé€’å½’å‡½æ•°çš„å‚æ•°å°±åº”è¯¥æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªä»£è¡¨leftï¼Œä¸€ä¸ªä»£è¡¨rightï¼Œä½†æ˜¯æœ¬è´¨å°±åªæ˜¯è¡¨ç¤ºä¸€ä¸ªæ•°ç»„ä¸‹æ ‡ã€‚æœ€åå› ä¸ºåŸæ•°ç»„ä¹Ÿè¦å†™è¿›å‡½æ•°å‚æ•°é‡Œï¼Œæ‰€ä»¥æœ€åçš„å½¢å¼ä¸º`recursion(nums, left, right)`

2. é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼š

   ```c++
   // è¿™é‡Œç€é‡è¯´ä¸€ä¸‹æœ¬é¢˜çš„é€’å½’ç»ˆæ­¢æ¡ä»¶
   // ä¾ç…§â€æœ€å®¹æ˜“æƒ³åˆ°â€œåŸåˆ™ï¼Œä¹Ÿè®¸ä¼šæŠŠleft=rightå½“æˆæœ€å®¹æ˜“æƒ³åˆ°çš„æƒ…å†µï¼Œåˆ™ä»£ç ä¸º
   if(left == right){
     return new TreeNode(nums[left]);
   }
   // ä½†æ˜¯ä¸Šé¢çš„æƒ…å†µè¿èƒŒäº†"æœ€å°å­é—®é¢˜çš„å€¼å§‹ç»ˆå›ºå®š"åŸåˆ™
   // å› ä¸ºéšç€leftæˆ–è€…rightçš„å€¼ä¸åŒï¼Œä¸ä¹‹å¯¹åº”çš„nums[left]å€¼ä¹Ÿä¸åŒ
   
   // æ‰€ä»¥å¦ä¸€ä¸ªå®¹æ˜“æƒ³åˆ°çš„æƒ…å†µä¸ºleft>rightï¼Œè¿™æ˜¯ä¸€ç§ä¸å¯èƒ½æƒ…å†µï¼Œåˆ™ä»£ç ä¸º
   if(left > right){
     return null;
   }
   // è¿™ç§æƒ…å†µä¾æ®"æœ€å°å­é—®é¢˜çš„å€¼å§‹ç»ˆå›ºå®š"åŸåˆ™ï¼Œæ— è®ºleftå’Œrightæ˜¯ä»€ä¹ˆå€¼ï¼Œè¿”å›çš„éƒ½æ˜¯å›ºå®šå€¼nullï¼Œæ‰€ä»¥ç¬¦åˆæ¡ä»¶
   ```

3. çŠ¶æ€è½¬ç§»æ–¹ç¨‹(é€šè¿‡å¯¹çŠ¶æ€çš„å¾ªç¯å¤šæ¬¡ï¼Œæœ‰å‡ ä¸ªçŠ¶æ€å°±æœ‰å‡ å±‚å¾ªç¯ï¼Œå¯¹ç«‹ç›¸åçš„çŠ¶æ€åªéœ€å†™ä¸¤è¡Œä»£ç å³å¯ï¼Œä¸éœ€è¦å¾ªç¯)ï¼š

   **å¦‚æœæŒ‰ç…§åŠ¨æ€è§„åˆ’è§’åº¦æ¥çœ‹ï¼Œå¯ä»¥çœ‹åšrecursion(root) = root.val + recursion(root.left) + recursion(root.right)**

   **æ˜¯ä¸æ˜¯å’Œdp[i] = 1 + dp[i - 1] + dp[i + 1]å¾ˆç±»ä¼¼å‘€**

   ```java
   // ä»¥å‡åºæ•°ç»„çš„ä¸­é—´å…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹ rootã€‚
   int mid = left + (right - lift) / 2;
   TreeNode root = new TreeNode(nums[mid]);
   
   root.left = recursion(nums, left, mid - 1);
   root.right = recursion(nums, mid + 1, right); 
   ```

4. è¿”å›æœ€ç»ˆçŠ¶æ€ï¼š**return root;**

